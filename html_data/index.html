<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="./favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TeslaBoard - HOME</title>
</head>

<body x-data="Translations()">
  <template x-if="loaded">
    <header>
      <div class="logo"></div>
      <div class="menu">
        <a href="index.html">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px"
          viewBox="0 0 48 48" style="enable-background:new 0 0 48 48;" xml:space="preserve">
       <path style="fill:none;stroke:#CBF05F;stroke-width:3;stroke-linejoin:round;stroke-miterlimit:10;" d="M8.5,41.5h10
         c0.552,0,1-0.448,1-1v-10c0-1.105,0.895-2,2-2h5c1.105,0,2,0.895,2,2v10c0,0.552,0.448,1,1,1h10c0.552,0,1-0.448,1-1V21.411
         c0-1.838-0.843-3.575-2.287-4.713L24,5.5L9.787,16.698C8.343,17.836,7.5,19.573,7.5,21.411V40.5C7.5,41.052,7.948,41.5,8.5,41.5z"/>
       </svg></a>
        <a href="setup.html"><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 32 32" width="32px" height="32px" fill="#FDFDFD"><path d="M 13.1875 3 L 13.03125 3.8125 L 12.4375 6.78125 C 11.484375 7.15625 10.625 7.683594 9.84375 8.3125 L 6.9375 7.3125 L 6.15625 7.0625 L 5.75 7.78125 L 3.75 11.21875 L 3.34375 11.9375 L 3.9375 12.46875 L 6.1875 14.4375 C 6.105469 14.949219 6 15.460938 6 16 C 6 16.539063 6.105469 17.050781 6.1875 17.5625 L 3.9375 19.53125 L 3.34375 20.0625 L 3.75 20.78125 L 5.75 24.21875 L 6.15625 24.9375 L 6.9375 24.6875 L 9.84375 23.6875 C 10.625 24.316406 11.484375 24.84375 12.4375 25.21875 L 13.03125 28.1875 L 13.1875 29 L 18.8125 29 L 18.96875 28.1875 L 19.5625 25.21875 C 20.515625 24.84375 21.375 24.316406 22.15625 23.6875 L 25.0625 24.6875 L 25.84375 24.9375 L 26.25 24.21875 L 28.25 20.78125 L 28.65625 20.0625 L 28.0625 19.53125 L 25.8125 17.5625 C 25.894531 17.050781 26 16.539063 26 16 C 26 15.460938 25.894531 14.949219 25.8125 14.4375 L 28.0625 12.46875 L 28.65625 11.9375 L 28.25 11.21875 L 26.25 7.78125 L 25.84375 7.0625 L 25.0625 7.3125 L 22.15625 8.3125 C 21.375 7.683594 20.515625 7.15625 19.5625 6.78125 L 18.96875 3.8125 L 18.8125 3 Z M 14.8125 5 L 17.1875 5 L 17.6875 7.59375 L 17.8125 8.1875 L 18.375 8.375 C 19.511719 8.730469 20.542969 9.332031 21.40625 10.125 L 21.84375 10.53125 L 22.40625 10.34375 L 24.9375 9.46875 L 26.125 11.5 L 24.125 13.28125 L 23.65625 13.65625 L 23.8125 14.25 C 23.941406 14.820313 24 15.402344 24 16 C 24 16.597656 23.941406 17.179688 23.8125 17.75 L 23.6875 18.34375 L 24.125 18.71875 L 26.125 20.5 L 24.9375 22.53125 L 22.40625 21.65625 L 21.84375 21.46875 L 21.40625 21.875 C 20.542969 22.667969 19.511719 23.269531 18.375 23.625 L 17.8125 23.8125 L 17.6875 24.40625 L 17.1875 27 L 14.8125 27 L 14.3125 24.40625 L 14.1875 23.8125 L 13.625 23.625 C 12.488281 23.269531 11.457031 22.667969 10.59375 21.875 L 10.15625 21.46875 L 9.59375 21.65625 L 7.0625 22.53125 L 5.875 20.5 L 7.875 18.71875 L 8.34375 18.34375 L 8.1875 17.75 C 8.058594 17.179688 8 16.597656 8 16 C 8 15.402344 8.058594 14.820313 8.1875 14.25 L 8.34375 13.65625 L 7.875 13.28125 L 5.875 11.5 L 7.0625 9.46875 L 9.59375 10.34375 L 10.15625 10.53125 L 10.59375 10.125 C 11.457031 9.332031 12.488281 8.730469 13.625 8.375 L 14.1875 8.1875 L 14.3125 7.59375 Z M 16 11 C 13.25 11 11 13.25 11 16 C 11 18.75 13.25 21 16 21 C 18.75 21 21 18.75 21 16 C 21 13.25 18.75 11 16 11 Z M 16 13 C 17.667969 13 19 14.332031 19 16 C 19 17.667969 17.667969 19 16 19 C 14.332031 19 13 17.667969 13 16 C 13 14.332031 14.332031 13 16 13 Z"/></svg></a>
      
      </div>
    </header>
  </template>
  <template x-if="loaded">

    
  <template x-data="GlobalData(text)" x-if="dataLoaded">
    <div class="main_grid">
      <!-- SWITCH AREA -->
      <template x-if="exist.switch">
        <div class="single_grid">
          <div class="single_header" x-on:click="open.switch = ! open.switch">
            <div class="title"><p>Switches</p></div>
            <div class="status">
              <div class="led active"></div>
            </div>
            <div class="coll_icon" :class="open.switch ? 'open' : ''">
              <svg fill="currentcolor" width="40px" height="40px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <g data-name="Layer 2"><g data-name="arrowhead-down"><rect width="24" height="24" opacity="0"/>
                <path d="M17.37 12.39L12 16.71l-5.36-4.48a1 1 0 1 0-1.28 1.54l6 5a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.14z"/>
                <path d="M11.36 11.77a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.15L12 9.71 6.64 5.23a1 1 0 0 0-1.28 1.54z"/>
                </g></g></svg>
            </div>
          </div>
          <template x-if="open.switch">
          <ol class="switches">
            <li class="switch">
              <span>
                Ciao
              </span>
              <span>

              </span>
              <label class="toggle" for="myToggle">
                <input class="toggle__input" name="" type="checkbox" id="myToggle">
                <div class="toggle__fill"></div>
              </label>
            </li>
            <li>gni</li>
            <li>gno</li>
            <li>gnu</li>
            <li></li>
            <li></li>
            <li></li>
          </ol>
          </template>  
        </div>
      </template>

      <!-- DOME AREA -->
      <template x-if="exist.dome">
        <div class="single_grid">
          <div class="single_header" x-on:click="open.dome = ! open.dome">
            <div class="title">
              <p x-text="text.dome.title">Dome</p>
            </div>
            <div class="status">
              <div class="led" :class="{
                'green' : dome.status.roofState <= 1,
                'orange' : dome.status.roofState === 2 || dome.status.roofState === 3,
                'red' : dome.status.roofState >= 4 
              }">
              </div>
            </div>
            <div class="coll_icon" :class="open.dome ? 'open' : ''">
              <svg fill="currentcolor" width="40px" height="40px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <g data-name="Layer 2"><g data-name="arrowhead-down"><rect width="24" height="24" opacity="0"/>
                <path d="M17.37 12.39L12 16.71l-5.36-4.48a1 1 0 1 0-1.28 1.54l6 5a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.14z"/>
                <path d="M11.36 11.77a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.15L12 9.71 6.64 5.23a1 1 0 0 0-1.28 1.54z"/>
                </g></g>
              </svg>
            </div>
          </div>
          <template x-if="open.dome">
            <div>
              <div class="card flex">
                <p x-text="text.dome.roofState">{roofstate}</p>
                <p x-show="dome.status.roofState === 0" x-text="text.dome.shutterState.open">{open}</p>
                <p x-show="dome.status.roofState === 1" x-text="text.dome.shutterState.closed">{closed}</p>
                <p x-show="dome.status.roofState === 2" x-text="text.dome.shutterState.opening">{opening}</p>
                <p x-show="dome.status.roofState === 3" x-text="text.dome.shutterState.closing">{closing}</p>
                <p class="red" x-show="dome.status.roofState >= 4" x-text="text.dome.shutterState.error">{error}</p>
              </div>
              
              <div class="card flex justify-around">
                <button :class="{
                  'disactivated' : dome.status.actualCommand != 0 || dome.status.roofState == 0,
                  'green' :  dome.status.actualCommand == 0 && dome.status.roofState != 0
                 }"
                  x-text="text.gen.open">{open}</button>
                <button :class="{
                  'disactivated' : dome.status.actualCommand != 0 || dome.status.roofState == 1,
                  'green' :  dome.status.actualCommand == 0 && dome.status.roofState != 1
                 }"
                  x-text="text.gen.close">{close}</button>

                <button class="red" x-text="text.gen.halt">{stop}</button>
              </div>
              
              <div>
                
              </div>
              
              <div class="card center dome_input">
                <div class="col-span-2">
                  <p class="uppercase font-bold" x-text="text.dome.input">Stato ingressi</p>
                </div> 
                <div x-text="text.gen.opened">
                    OPEN
                </div>
                <div x-text="text.gen.closed">
                  CLOSE
                </div>
                <div class="led" :class="dome.input.open ? 'green' : 'red'"></div>
                <div class="led" :class="dome.input.close ? 'green' : 'red'"></div>
              </div>
              <div class="card flex flex-col">
                <p x-text="text.dome.actualCommand">{actualCommand}</p>
                <span x-show="dome.status.actualCommand === 0" x-text="text.dome.shutterCommand.idle">{idle}</span>
                <span x-show="dome.status.actualCommand === 1" x-text="text.dome.shutterCommand.open">{opening}</span>
                <span x-show="dome.status.actualCommand === 2" x-text="text.dome.shutterCommand.close">{closing}</span>
                <span x-show="dome.status.actualCommand === 3" x-text="text.dome.shutterCommand.halt">{halt}</span>
                <p x-text="text.dome.lastCommand">{lastCommand}</p>
                <span x-show="dome.status.lastCommand == 0" x-text="text.dome.shutterCommand.idle">{idle}</span>
                <span x-show="dome.status.lastCommand == 1" x-text="text.dome.shutterCommand.open">{opening}</span>
                <span x-show="dome.status.lastCommand == 2" x-text="text.dome.shutterCommand.close">{closing}</span>
                <span x-show="dome.status.lastCommand == 3" x-text="text.dome.shutterCommand.halt">{halt}</span>

              </div>

            </div>
          </template>
        </div> 
      </template>

        <!-- COVER AREA -->
        <template x-if="exist.coverc">
          <div class="single_grid">
            <div class="single_header" x-on:click="open.cover = ! open.cover">
              <div class="title"><p>CoverCalibrator</p></div>
              <div class="status">
                <div class="led" :class="{
                  'green' : coverC.cover.status == 1 || coverC.cover.status == 3,
                  'orange' :coverC.cover.status == 2,
                  'red' : coverC.cover.status >= 4 
                }"></div>
              </div>
              <div class="coll_icon" :class="open.cover ? 'open' : ''">
                <svg fill="currentcolor" width="40px" height="40px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <g data-name="Layer 2"><g data-name="arrowhead-down"><rect width="24" height="24" opacity="0"/>
                  <path d="M17.37 12.39L12 16.71l-5.36-4.48a1 1 0 1 0-1.28 1.54l6 5a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.14z"/>
                  <path d="M11.36 11.77a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.15L12 9.71 6.64 5.23a1 1 0 0 0-1.28 1.54z"/>
                  </g></g></svg>
              </div>
            </div>
            <template x-if="open.cover">
            <div>
              <div x-show="coverC.calibrator.status > 0" class="card">
                <p x-text="text.coverC.calibrator" class="font-semibold pb-4">{calibrator}</p>
                <div class="range">
                  <input type="range" min='0' max='4096' step='1' x-model="coverC.calibrator.brightness" @change="calibratorBrightness(coverC.calibrator.brightness)" />
                </div>
                <p>Valore Attuale: <span x-text="coverC.calibrator.brightness"></span> / 4096</p>
                <div class="flex justify-around w-full">
                  <button @click="calibratorOff()" :class="{
                    'disactivated' : coverC.calibrator.brightness == 0,
                    'green' : coverC.calibrator.brightness > 0
                   }" x-text="text.gen.powerOff">{SPEGNI}</button>
                  <button @click="calibratorOn()" :class="{
                    'disactivated' : coverC.calibrator.brightness == 4096,
                    'green' : coverC.calibrator.brightness < 4096
                   }"  x-text="text.gen.powerOn">{ACCENDI}</button>
                </div>
              </div>

              <div x-show="coverC.cover.status > 0" class="card">
                <div class="content">
                  <p x-text="text.coverC.cover" class="font-semibold pb-4">{cover}</p>
                  <p x-text="text.coverC.coverState">{actualState}</p>
                  <span x-show="coverC.cover.status === 0" x-text="text.coverC.coverEnum.notPresent">{notPresent}</span>
                  <span x-show="coverC.cover.status === 1" x-text="text.coverC.coverEnum.close">{close}</span>
                  <span x-show="coverC.cover.status === 2" x-text="text.coverC.coverEnum.moving">{moving}</span>
                  <span x-show="coverC.cover.status === 3" x-text="text.coverC.coverEnum.open">{open}</span>
                  <span x-show="coverC.cover.status === 4" x-text="text.coverC.coverEnum.unknow">{unknow}</span>
                  <span x-show="coverC.cover.status === 5" x-text="text.coverC.coverEnum.error">{error}</span>

                  <div class="flex justify-around w-full">
                    <button @click="coverClose()" :class="{
                      'disactivated' : coverC.cover.status == 1 || coverC.cover.status == 2,
                      'green': coverC.cover.status != 1 
                     }" x-text="text.gen.close" >{CHIUDI}</button>
                    <button @click="coverOpen()" :class="{
                      'disactivated' : coverC.cover.status == 3 || coverC.cover.status == 2,
                      'green' : coverC.cover.status != 3
                     }" x-text="text.gen.open">{APRI}</button>
                  </div>
                  <div class="flex" x-show="coverC.cover.status > 0 && coverC.cover.status < 4">
                    <p x-text="text.gen.actualPos">{Posizione Attuale:}</p><span x-text="coverC.cover.angle"></span><span>°</span>
                  </div>


                </div>
              </div>
    
            </div>
          </template>
          </div>
        </template>

            <!-- STATISTICS AREA -->
            <div class="single_grid">
              <div class="single_header" x-on:click="open.statistics = ! open.statistics">
                <div class="title"><p>Statistiche</p></div>
                <div class="status">
                  <div class="led active"></div>
                </div>
                <div class="coll_icon" :class="open.statistics ? 'open' : ''">
                  <svg fill="currentcolor" width="40px" height="40px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <g data-name="Layer 2"><g data-name="arrowhead-down"><rect width="24" height="24" opacity="0"/>
                    <path d="M17.37 12.39L12 16.71l-5.36-4.48a1 1 0 1 0-1.28 1.54l6 5a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.14z"/>
                    <path d="M11.36 11.77a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.15L12 9.71 6.64 5.23a1 1 0 0 0-1.28 1.54z"/>
                    </g></g></svg>
                </div>
              </div>
              <template x-if="open.statistics">
              <div>
                <div>
                  Stato Coperchio:
                  <div><button>APRI</button>
                    <button>CHIUDI</button></div>
        
                </div>
        
                <div>
                  Stato Pannello:
                  <div><button>APRI</button>
                    <button>CHIUDI</button></div>
                    
                </div>
              </div>
            </template>
            </div>


      </div>
    </template>
    </div>

  </template>


  <script type="module" src="/main.js"></script>
</body>

</html>